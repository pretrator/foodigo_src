!function(t){function e(s){if(a[s])return a[s].exports;var i=a[s]={i:s,l:!1,exports:{}};return t[s].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var a={};e.m=t,e.c=a,e.d=function(t,a,s){e.o(t,a)||Object.defineProperty(t,a,{configurable:!1,enumerable:!0,get:s})},e.n=function(t){var a=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(a,"a",a),a},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=50)}({50:function(t,e,a){"use strict";function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var a=0;a<e.length;a++){var s=e[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,a,s){return a&&t(e.prototype,a),s&&t(e,s),e}}(),n=function(){function t(){s(this,t),this.doc=$(document),this.extensions_area=$("#extension-list"),this.tabs={},this.ajax=!1,this.doc.on("click","#pavothemer-puchased-code",this.enterPurchasedCode.bind(this)),this.doc.on("click",".extension-tabs a",this.switchTabs.bind(this)),this.doc.on("click",".btn-download-extension",this.downloadExtension.bind(this)),this.doc.on("click",".toggleActivate",this.toggleActivateExtension.bind(this)),$(".extension-tabs a:first").click()}return i(t,[{key:"enterPurchasedCode",value:function(t){var e=this;t.preventDefault();var a=$(t.target);$.contains(a.parent().get(0),t.target)&&(a=$($("#pavothemer-puchased-code").get(0)));var s=a.attr("href");return this.ajax&&(this.ajax.abort(),this.ajax=!1,a.find(".fa").removeClass("fa-circle-o-notch").removeClass("fa-spin").addClass("fa-filter")),this.ajax=$.ajax({url:a.attr("href"),type:"POST",data:{purchased_code:$('input[name="purchased-code"]').val()},beforeSend:function(){a.find(".fa").removeClass("fa-filter").addClass("fa-circle-o-notch fa-spin"),$("#prucahsed-error-notice").remove()}}).always(function(){a.find(".fa").removeClass("fa-circle-o-notch").removeClass("fa-spin").addClass("fa-filter")}).done(function(t){void 0!==t.status&&(void 0!==t.extension_list&&($(".extension-tabs a").removeClass("active"),$(".extension-tabs a:first").addClass("active"),$("#extension-list").html(t.extension_list)),void 0!==t.message&&t.message&&(!1===t.status?$(".well").after('<div class="row" id="prucahsed-error-notice"><div class="col-md-12 col-xs-12"><div class="alert alert-danger">'+t.message+'<button type="button" class="close" data-dismiss="alert">&times;</button></div></div></div>'):(e.tabs={},$('input[name="purchased-code"]').val(""),$(".well").after('<div class="row" id="prucahsed-error-notice"><div class="col-md-12 col-xs-12"><div class="alert alert-info">'+t.message+'<button type="button" class="close" data-dismiss="alert">&times;</button></div></div></div>'))))}).fail(function(t,a,i){e.tabs[s]=!1,$(".well").after('<div class="row" id="prucahsed-error-notice"><div class="col-md-12 col-xs-12"><div class="alert alert-danger alert-dismissible">'+i+"\r\n"+t.statusText+"\r\n"+t.responseText+'<button type="button" class="close" data-dismiss="alert">&times;</button></div></div></div>')}),!1}},{key:"switchTabs",value:function(t){var e=this;t.preventDefault();var a=$(t.target),s=a.attr("href");return void 0!==this.tabs[s]&&this.tabs[s]?($(".extension-tabs").find("a").removeClass("active"),a.addClass("active"),this.extensions_area.html(this.tabs[s])):(this.ajax&&(this.ajax.abort(),this.ajax=!1,$(".extension-tabs a .fa").remove(),$('.extension-tabs a[href="'+s+'"]').removeClass("active")),this.ajax=$.ajax({url:s,type:"POST",beforeSend:function(){a.prepend('<i class="fa fa-circle-o-notch fa-spin"></i> ')}}).always(function(){a.find(".fa").remove()}).done(function(t){void 0!==t.status&&void 0!==t.html&&(e.tabs[s]=t.html,$(".extension-tabs").find("a").removeClass("active"),a.addClass("active"),t.status?e.extensions_area.html(t.html):(e.tabs[s]='<div class="row"><div class="col-md-12 col-xs-12"><div class="alert alert-danger">'+t.html+"</div></div></div>",e.extensions_area.html(e.tabs[s])))}).fail(function(t,a,i){e.tabs[s]=!1,e.extensions_area.html('<div class="row"><div class="col-md-12 col-xs-12"><div class="alert alert-danger">'+i+"\r\n"+t.statusText+"\r\n"+t.responseText+"</div></div></div>")})),!1}},{key:"downloadExtension",value:function(t){t.preventDefault();var e=$(t.target);return this.ajax&&(this.ajax.abort(),this.ajax=!1),this.ajax=$.ajax({url:PA_MANAGEMENT.liveinstall_url,type:"POST",data:e.data(),beforeSend:function(){e.prepend('<i class="fa fa-circle-o-notch fa-spin"></i>')}}).always(function(){e.find("i").remove()}).done(function(t){!0===t.status&&(e.removeClass("btn-download-extension").addClass("toggleActivate btn-success"),e.replaceWith('<a href="" class="toggleActivate btn btn-success pull-right" data-type="'+t.type+'" data-code="'+t.code+'" data-id="'+t.id+'">'+PA_MANAGEMENT.activate_text+"</a>"))}).fail(function(t,e,a){$("#extension-list").html('<div class="row"><div class="col-md-12 col-xs-12"><div class="alert alert-danger">'+a+"\r\n"+t.statusText+"\r\n"+t.responseText+"</div></div></div>")}),!1}},{key:"toggleActivateExtension",value:function(t){var e=this;t.preventDefault();var a=$(t.target);return $.contains(a.parent().get(0),t.target)&&(a=$($(".toggleActivate").get(0))),this.ajax&&(this.ajax.abort(),this.ajax=!1),this.ajax=$.ajax({url:a.hasClass("btn-success")?PA_MANAGEMENT.activate_url:PA_MANAGEMENT.deactivate_url,type:"POST",data:a.data(),beforeSend:function(){a.prepend('<i class="fa fa-circle-o-notch fa-spin"></i>'),$("#prucahsed-error-notice").remove()}}).always(function(){a.find("i").remove()}).done(function(t){if("theme"==t.type)for(var s=e.extensions_area.find(".toggleActivate"),i=0;i<s.length;i++){var n=$(s[i]);t.activated?(n.removeClass("btn-success").addClass("btn-warning"),n.html(PA_MANAGEMENT.deactivate_text)):(n.removeClass("btn-warning").addClass("btn-success"),n.html(PA_MANAGEMENT.activate_text))}else"module"==t.type&&(t.activated?(a.removeClass("btn-success").addClass("btn-warning"),a.html(PA_MANAGEMENT.deactivate_text)):(a.removeClass("btn-warning").addClass("btn-success"),a.html(PA_MANAGEMENT.activate_text)));void 0!==t.message&&t.message&&(!1===t.activated?$(".well:last").after('<div class="row" id="prucahsed-error-notice"><div class="col-md-12 col-xs-12"><div class="alert alert-danger">'+t.message+'<button type="button" class="close" data-dismiss="alert">&times;</button></div></div></div>'):$(".well:last").after('<div class="row" id="prucahsed-error-notice"><div class="col-md-12 col-xs-12"><div class="alert alert-info">'+t.message+'<button type="button" class="close" data-dismiss="alert">&times;</button></div></div></div>'))}).fail(function(t,e,a){$("#extension-list").html('<div class="row"><div class="col-md-12 col-xs-12"><div class="alert alert-danger">'+a+"\r\n"+t.statusText+"\r\n"+t.responseText+"</div></div></div>")}),!1}}]),t}();$(document).ready(function(){new n})}});