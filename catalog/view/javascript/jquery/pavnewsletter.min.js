!function(t){t.fn.pavoNewsletter=function(e){return this.price="",this.form=null,this.ischanged=!1,this.msg="",this.work=function(e){var i=t(this).find("form");switch(this.msg=e,t(this).data("mode")){case"popup":if(1==this.getCookie("cnewsletter"))return!0;this.showPopup(i);break;case"flybot":if(1==this.getCookie("cnewsletter"))return!0;this.flybot(i)}this.submit(i)},this.flybot=function(e){var i=this,s=t(e).parent();s.appendTo("body"),t(s).slideToggle(),s.removeClass("hide").addClass("slide-bottom"),t(".button-slide",s).click(function(){t(s).slideToggle()}),t(":checkbox",s).click(function(){i.setCookie("cnewsletter","1",10),t(s).slideToggle()})},this.showPopup=function(e){var i=this;t.magnificPopup.open({items:{src:e,type:"inline",width:"500"}}),t(":checkbox",e).click(function(){i.setCookie("cnewsletter","1",10),t.magnificPopup.close()})},this.setCookie=function(t,e,i){var s=new Date;s.setTime(s.getTime()+24*i*60*60*1e3);var n="expires="+s.toUTCString();document.cookie=t+"="+e+";"+n+";path=/"},this.getCookie=function(t){for(var e=t+"=",i=decodeURIComponent(document.cookie).split(";"),s=0;s<i.length;s++){for(var n=i[s];" "==n.charAt(0);)n=n.substring(1);if(0==n.indexOf(e))return n.substring(e.length,n.length)}return""},this.isValidEmailAddress=function(t){return new RegExp(/^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i).test(t)},this.submit=function(e){var i=this;t(e).on("submit",function(){var s=t(".inputNew").val();if(t(".success_inline, .warning_inline, .error").remove(),!i.isValidEmailAddress(s))return t(".valid").html('<div class="error alert alert-danger">'+i.msg+'<button type="button" class="close" data-dismiss="alert">×</button></div></div>'),t(".inputNew").focus(),!1;var n=t(e).attr("action");return t.ajax({type:"post",url:n,data:t(e).serialize(),dataType:"json",success:function(e){t(".success_inline, .warning_inline, .error").remove(),e.error&&t(".valid").html('<div class="warning_inline alert alert-danger">'+e.error+'<button type="button" class="close" data-dismiss="alert">×</button></div>'),e.success&&t(".valid").html('<div class="success_inline alert alert-success">'+e.success+'<button type="button" class="close" data-dismiss="alert">×</button></div>')}}),!1})},this}}(jQuery);